(this["webpackJsonpvacation-project"]=this["webpackJsonpvacation-project"]||[]).push([[0],{462:function(e,t,n){},463:function(e,t,n){},555:function(e,t,n){},561:function(e,t,n){},577:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(47),r=n.n(i),o=(n(462),n(61)),c=(n(463),n(14)),s=n(7),l=n(673),d=n(146),j=n(645),u=n(201),b=n(681),h=n(674),O=n(592),x=n(232),m=n.n(x),p=n(272),g=n(680),f=n(417),v=n(672),A=n(25),y=n(101),w=n(45),S=n.n(w),C="https://vacation-node-react.herokuapp.com/user/",k=function(e){return S.a.post("".concat(C,"checkToken"),null,{headers:{Authorization:"Bearer "+e}})},D=n(36),N="SET_USER",z="SET_USERS",F="SET_TOKEN",I="SET_VACATIONS",E=function(e){return{type:N,payload:e}},q=n(385),B=n.n(q),T=n(229),P=n.n(T),L=n(1),V=function(){var e=Object(A.g)();return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(P.a,{clientId:"141177001233-v632d4e1s304k9fd1gk77t910g9vr56q.apps.googleusercontent.com",buttonText:"Sign in with Google",render:function(e){return Object(L.jsx)(B.a,{style:{width:"100%"},onClick:e.onClick,disabled:e.disabled})},onSuccess:function(t){console.log(t);var n=t.tokenId;localStorage.setItem("googleToken",n),localStorage.removeItem("token"),e("/home")},onFailure:function(e){console.log(e),console.log("Error fail Google")},cookiePolicy:"single_host_origin"})})},Z=n(666),W=Object(f.a)();function G(){var e,t,n,i=Object(a.useState)(!1),r=Object(s.a)(i,2),x=r[0],f=r[1],w=Object(D.b)(),N=Object(A.g)();Object(a.useEffect)((function(){var e=localStorage.getItem("token"),t=localStorage.getItem("id");e&&k(t).then((function(e){w(E(e.data)),N("/home")})).catch((function(e){console.error(e.response.data)}))}),[]);var z=Object(y.a)(),F=z.register,I=z.formState.errors,q=z.handleSubmit;return console.log(I),Object(L.jsx)(v.a,{theme:W,children:Object(L.jsxs)(g.a,{component:"main",maxWidth:"xs",children:[Object(L.jsx)(j.a,{}),Object(L.jsxs)(O.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(L.jsx)(p.a,{variant:"h4",component:"h1",children:"For your dream vacation"}),Object(L.jsx)(l.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(L.jsx)(m.a,{})}),Object(L.jsx)(p.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(L.jsxs)(O.a,{component:"form",onSubmit:q((function(e){var t,n;(t=e.email,n=e.password,S.a.post("".concat(C,"signin"),{email:t,password:n})).then((function(e){if(e.data.user){var t=e.data.token,n=e.data.user._id;localStorage.setItem("token",t),localStorage.setItem("_id",n),localStorage.removeItem("googleToken")}})).then((function(){return N("/home")})).catch((function(e){console.error(e.response.data),f(!0)}))})),sx:{mt:1},children:[x&&Object(L.jsx)(Z.a,{variant:"filled",severity:"error",children:"There was a problem with your login, try again."}),Object(L.jsx)(u.a,Object(c.a)(Object(c.a)({},F("email",{required:!0,pattern:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/})),{},{margin:"normal",fullWidth:!0,id:"email",label:"Email Address *",name:"email",autoComplete:"email",autoFocus:!0})),"required"===(null===(e=I.email)||void 0===e?void 0:e.type)&&Object(L.jsx)("span",{style:{color:"red"},children:"* Email is required"}),"pattern"===(null===(t=I.email)||void 0===t?void 0:t.type)&&Object(L.jsx)("span",{style:{color:"red"},children:"* Email is not valid"}),Object(L.jsx)(u.a,Object(c.a)(Object(c.a)({},F("password",{required:!0})),{},{margin:"normal",fullWidth:!0,name:"password",label:"Password *",type:"password",id:"password",autoComplete:"current-password"})),"required"===(null===(n=I.password)||void 0===n?void 0:n.type)&&Object(L.jsx)("span",{style:{color:"red"},children:"* Password is required"}),Object(L.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:1,mb:3,height:"50px"},children:"Sign In"}),Object(L.jsx)(V,{}),Object(L.jsxs)(h.a,{container:!0,children:[Object(L.jsx)(h.a,{item:!0,xs:!0,children:Object(L.jsx)(b.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(L.jsx)(h.a,{item:!0,children:Object(L.jsx)(b.a,{component:o.b,to:"/signup",children:"Don't have an account? Sign Up"})})]})]})]})]})})}var H=Object(f.a)();function R(){var e,t,n,a,i,r,s=Object(y.a)(),x=s.register,f=s.formState.errors,w=s.handleSubmit,k=Object(A.g)();return console.log(f),Object(L.jsx)(v.a,{theme:H,children:Object(L.jsxs)(g.a,{component:"main",maxWidth:"xs",children:[Object(L.jsx)(j.a,{}),Object(L.jsxs)(O.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(L.jsx)(l.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(L.jsx)(m.a,{})}),Object(L.jsx)(p.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(L.jsxs)(O.a,{component:"form",noValidate:!0,onSubmit:w((function(e){console.log(e),function(e,t,n,a){return S.a.post("".concat(C,"signUp"),{firstName:e,lastName:t,email:n,password:a})}(e.firstName,e.lastName,e.email,e.password).then((function(e){alert("signup work!")})).then((function(){return k("/signin")})).catch((function(e){console.error(e.response.data)}))})),sx:{mt:3},children:[Object(L.jsxs)(h.a,{container:!0,spacing:2,children:[Object(L.jsxs)(h.a,{item:!0,xs:12,sm:6,children:[Object(L.jsx)(u.a,Object(c.a)(Object(c.a)({},x("firstName",{required:!0})),{},{autoComplete:"given-name",name:"firstName",fullWidth:!0,id:"firstName",label:"First Name *",autoFocus:!0})),"required"===(null===(e=f.firstName)||void 0===e?void 0:e.type)&&Object(L.jsx)("span",{style:{color:"red"},children:"* firstName is required"})]}),Object(L.jsxs)(h.a,{item:!0,xs:12,sm:6,children:[Object(L.jsx)(u.a,Object(c.a)(Object(c.a)({},x("lastName",{required:!0})),{},{fullWidth:!0,id:"lastName",label:"Last Name *",name:"lastName",autoComplete:"family-name"})),"required"===(null===(t=f.lastName)||void 0===t?void 0:t.type)&&Object(L.jsx)("span",{style:{color:"red"},children:"* lastName is required"})]}),Object(L.jsxs)(h.a,{item:!0,xs:12,children:[Object(L.jsx)(u.a,Object(c.a)(Object(c.a)({},x("email",{required:!0,pattern:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/})),{},{fullWidth:!0,id:"email",label:"Email Address *",name:"email",autoComplete:"email"})),"required"===(null===(n=f.email)||void 0===n?void 0:n.type)&&Object(L.jsx)("span",{style:{color:"red"},children:"* Email is required"}),"pattern"===(null===(a=f.email)||void 0===a?void 0:a.type)&&Object(L.jsx)("span",{style:{color:"red"},children:"* Email is not valid"})]}),Object(L.jsxs)(h.a,{item:!0,xs:12,children:[Object(L.jsx)(u.a,Object(c.a)(Object(c.a)({},x("password",{required:!0,minLength:6})),{},{fullWidth:!0,name:"password",label:"Password *",type:"password",id:"password",autoComplete:"new-password"})),"required"===(null===(i=f.password)||void 0===i?void 0:i.type)&&Object(L.jsx)("span",{style:{color:"red"},children:"* Password is required"}),"minLength"===(null===(r=f.password)||void 0===r?void 0:r.type)&&Object(L.jsx)("span",{style:{color:"red"},children:"* The password must be at least 6 characters long"})]}),Object(L.jsx)(h.a,{item:!0,xs:12})]}),Object(L.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:1,mb:2,height:"50px"},children:"Sign Up"}),Object(L.jsx)(h.a,{container:!0,justifyContent:"flex-end",children:Object(L.jsx)(h.a,{item:!0,children:Object(L.jsx)(b.a,{component:o.b,to:"/signin",children:"Already have an account? Sign in"})})})]})]})]})})}var U=n(30),M=n.n(U),Q=n(79),X=n(689),_=n(690),J=n(136),Y=n(418),K=n(233),$=n.n(K),ee=n(177),te=n(329),ne=n(70),ae=["Home","Vacation","On Follow"],ie=["Profile","Logout"],re=function(e){var t=e.executeVacationScroll,n=e.executeVacationOnFollowScroll,i=Object(A.g)(),r=Object(D.c)((function(e){return e.userData})),o=Object(a.useState)(null),c=Object(s.a)(o,2),l=c[0],j=c[1],u=Object(a.useState)(null),b=Object(s.a)(u,2),h=b[0],x=b[1],m=function(e){"Profile"===e.target.innerHTML?(i("profile"),f()):(localStorage.getItem("token")?localStorage.removeItem("token"):(localStorage.removeItem("googleToken"),y()),i("/signin"))},f=function(){window.scrollTo({top:0,behavior:"smooth"})},v=function(){var e=Object(Q.a)(M.a.mark((function e(a){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.target.value||a.target.innerHTML,e.t0=r,e.next="Home"===e.t0?4:"Vacation"===e.t0?8:"On Follow"===e.t0?12:"Blog"===e.t0?16:17;break;case 4:return e.next=6,i("/home");case 6:return f(),e.abrupt("break",18);case 8:return e.next=10,i("/home");case 10:return t(),e.abrupt("break",18);case 12:return e.next=14,i("/home");case 14:return n(),e.abrupt("break",18);case 16:case 17:return e.abrupt("break",18);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=Object(T.useGoogleLogout)({clientId:"141177001233-v632d4e1s304k9fd1gk77t910g9vr56q.apps.googleusercontent.com",onLogoutSuccess:function(){console.log("logout")},onFailure:function(){console.log("logout fail")}}).signOut,w=function(){j(null)};return Object(L.jsx)(X.a,{position:"sticky",children:Object(L.jsx)(g.a,{maxWidth:"xl",children:Object(L.jsxs)(_.a,{disableGutters:!0,children:[Object(L.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB2AAAAdgB+lymcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAiASURBVHic7Zt7jFXVFcZ/d0At0lFgUAQUBmNbUCGtIPVRqEqJhVBaQWykRuOzoAGNWh9YTUq1jQ+ITYnV+oggWKk0oWhba2ssgviWiooPFEcEIWpFAmqRgesf39qeM+fufebce8+dAfRLTu49e639XnvttdbepwO7H74B/BdYD7zUGnNdzZvT9hgEHAQMycK8Kw9AA/D1MvN0AA6MJ+zKA7AceBWJfByrgG3Ay4n0euA/wNvAN2vduLbA74AisBbonaB1Srx3AJYY/zLgazVvXRugANyGOjXB3scB96FOLgLOR53tCTRb+j7t0dha4iAk3v9Eg5F8XgMOAXohSdgt8Weizo4H+gEnAP+OpbeZ2HdHW9Fg4DtI69ay8iOIdEHXBK1ANAiTfZk7Vll5PTAaGAZ8FziMUgWENeAtZKAsBv6BtHW5GIJmuAB8CPwe+KHRbgE2eur9DTDC+P4AnAEMMPqzFbQBgOHAAuBTWq63HfjXoe95Dvg50LmMeu9PlHE0MMP+nxrI02j0x4E9gE9i+deXUTcA3wOeSjRiq/1+ChyOZroI/Aq4DvjI3j8ApgHTgVdi+TcAFwJ7Zqh/P+BkpPWPQ5JwoZVzYyDPOKPfa+9HWv4JlGEPdAXmUjrDLwCn2f+/Ge8P7H2Vdao7MJtosMYb31BgPrDdaC+iZVQuGoHPgI+BgZ52v2bln1RB2YBmfQ2RyDTZ/+VoTz3H3n8dy/N3S/tZLO08ZKFtIxoEgEOBR4y/GbgczWw5mG75PwZuAH4KXIkUYxF4qIIyAZgI/N8KmQ2MQTO2Hu2roI4XgdNj+UZY2hOJ8k5FnfwESYBDATjbOlBExkyWJdEZDWZnNAifUapr5iNl/aNYmzPhLCTyzcAU5De8SKnCucXSxiQ6tNLSByXKnWLpayjdto4A3iFaUmnbZz2w1HgnWlpf4CJgJnCVlQfaiovAOkp9By8moI5vRSMH6mARORRx/MnSj0mkX2zp0z3l30dLxRRHT2CF0e8n7LA9RGTb18fSC2i73CvB78zmtbTiRQ4EtiBRPyWW/rAVMDbQmcGJ9H6W7gtK1BPplZEeem8iXXNtoJ1LkPmbtO2HW74rEukF4GYkYd0DZdKJSGteHEvfGw3Im5TOyFzjP8pT3nKj+babU4gGyGejD0CGzXa05WXFeCv3pjLyfIEbCGvNYUhjJ+G2uGEe2jX4Z8PhUdKNmNON3oQmIQtOIt0uCOJbaIv6CK3DrLjTKjzBQxtotCcDeY83+grC29Qi47k6Y3u6W54jM/J/AafMppWZ74+W78QA/R00sCHF84zlPy5A74O2t82U7hq5oRGttXcpFbVuSNOeFcjrbPGTA/R7CSs7iCzJe1Lad5fxXJ7CUxGcQjvX/t+OjJQ4BiGnw7fGQbY8wAEB+lL7PTZAX2h1jiMa/J4omnMTCn01WfokKrToQnDu8EQ0wnd7eJw+CHlOWQcgPoAFJNrdgNXAA8h8HWn1zcCv9BrR2n46UFdFOIzIoPDBGTQXBOjO+bkjQK9DvvsWZN6eR2TtOQfpbSIHyvkE89GMTybyFYrIw8wNHYm09+IAT4P9JoMNDk4CetjvSDSbfZFeeRJ4HXl6DxLpghXAe8C3kTSAYnc70HJYFKvjVmTETEXOWa5wCmZUgH4tLffqRuTlnY3EugfRVraA1gMhTbS0GvcCfhujLwi0oxOwCUlSrnABjn4BunM1J6Ot0vnv7llFaQdd2k9QGCoeR/BZjBDt92ma/ioUBssVTaiB+6MozutoDa4F5gDzrGEulLTJ0magMFO88xuR6N9q786RcjP8v5R2TDCei/LqWFZsQeGsN6wBO5DScnGA+LOMSCc4TIrRZ1raVFrOZlcrL20AAPrTDsd18SDhA0gRAeyL1r8T320xWhIPGs+59u52htkxnkkoerTTYTNRiGsPD92Jb/KwMY7ByIr8vr33sjzP5NfM2mE1auykAP0AZIunDYAPG9Hg5mq55Y06ZJQAvB/g2QD8mEi8s2IlcoD6Vta0tsNUtBUenHO5tyPJGp1zubsMnAl9aXs3JA213HJW2u+AVK52RlsMgC+MttOggAZh3xqVvQaZzo01KD8PbCogb62SM7ndASs6ooBFtfcEQjgQeYurCbvT7YnHal3BZbSTg5MV5cx8ZxS4aEDhqs3ozP8t5D36sNMrwtYGYCA6nBiODhp9/FuQW/wwOiV6L0Zz5nO1AzCVMk92PfgrpafVQYxCrm/cFV6Hzv3noIPGeShWtynGsxXFBhutnDp05P1hFQ3vQXlXb0LPQl/hSUelD4q4uAPQlcikXYQUmQ8dkHScgaSlHsUXrkNHbU8gb7EXFdzJMQwhHLHKAhfLeDeNaRgS3yKKCo1JYw5gHxRCczGGl4Dn7f+ICsprM4wjuuw0k9Kz9XLRB12Fi4vglAz5BqOgzL8Cz0JKL1xUjaPRjDUDZ+ZYbgGdJThpeI4o/B2Cu/GV9pyWYxsBKbciOoqqBQagzheRMgydIYIGrRG55r6n2p3Ai1+SX+d7o9Pi5PH6nsD1RCH1O4EuOdXpcBQwCym7dSiG2YwU7xKrP/dDlSTGkh4EOZ7o6toGWt4sqxbuXlERhfA+QBKXvDn2AikKfgza6yu93Fygdf+/G9pa3d6+FC2LLFfZG5AOuMzD3x8dxCS3y47o8scFRHcRisBf8EjhL5BlF7xElCOOQZen4ydK16PDlEPRmu+PpGkaup3WbLzbSXz7UwZGEZ1cLfcxVLsFloM6tAUvJpu1tw6dOg2vst56dGQ3a2cKWfdFBypD0XbZBa3hDWh9L0PX24tllrs3pZc+vjQYi5bL0BBDHjHBIcAlOZRTC6xGX4yk+gDVYhZSTrvd11hZ0UDGz1S/wlfIBWORi90tj8J2xW+HuyAjKMsHFa3ic+9gjvxJMy+mAAAAAElFTkSuQmCC",alt:"vacation"}),"\xa0\xa0\xa0",Object(L.jsxs)(O.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(L.jsx)(J.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){j(e.currentTarget)},color:"inherit",children:Object(L.jsx)($.a,{})}),Object(L.jsx)(Y.a,{id:"menu-appbar",anchorEl:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(l),onClose:w,sx:{display:{xs:"block",md:"none"}},children:ae.map((function(e){return Object(L.jsx)(ne.a,{onClick:w,children:Object(L.jsx)(p.a,{onClick:v,textAlign:"center",children:e})},e)}))})]}),Object(L.jsx)(p.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:"LOGO"}),Object(L.jsx)(O.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:ae.map((function(e){return Object(L.jsx)(d.a,{value:e,style:{border:"1px solid #"},onClick:function(e){w(),v(e)},sx:{my:2,color:"white",display:"block",marginLeft:"40px"},children:e},e)}))}),Object(L.jsxs)(O.a,{sx:{flexGrow:0},children:[Object(L.jsx)(te.a,{title:"Open settings",children:Object(L.jsxs)(J.a,{onClick:function(e){x(e.currentTarget)},sx:{p:0},children:[r.googleId?Object(L.jsx)(ee.a,{round:!0,size:"60",googleId:r.googleId}):Object(L.jsx)(ee.a,{round:!0,size:"60",name:r.firstName})," "]})}),Object(L.jsx)(Y.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:h,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(h),onClose:function(){x(null)},children:ie.map((function(e){return Object(L.jsx)(ne.a,{onClick:w,children:Object(L.jsx)(p.a,{value:e,onClick:m,textAlign:"center",children:e})},e)}))})]})]})})})},oe=n(679),ce=n(665),se=n(651),le=n(668),de=(n(551),function(){return Object(L.jsxs)(oe.a,{style:{height:"100vh"},children:[Object(L.jsx)(ce.a,{active:!0,children:Object(L.jsx)(se.a,{children:"Loading"})}),Object(L.jsx)(le.a,{src:"https://react.semantic-ui.com/images/wireframe/short-paragraph.png"})]})}),je=function(e){return{type:I,payload:e}},ue="https://vacation-node-react.herokuapp.com/",be=function(){return S.a.get("".concat(ue,"vacations"))},he=n(397),Oe=n.n(he),xe=(n(555),function(){return Object(L.jsxs)("div",{className:"footer_media_query",style:{backgroundColor:"#1976D2",color:"white"},children:["\xa9 Hadar Hubara \xa0 \xa0",Object(L.jsx)(b.a,{className:"link_hover",color:"inherit",href:"https://www.linkedin.com/in/hadar-hubara",children:Object(L.jsx)(Oe.a,{})})]})}),me=n(416),pe=n(176),ge=function(e){var t=e.executeVacationScroll,n=e.executeVacationOnFollowScroll,i=Object(D.b)(),r=Object(a.useState)("loading"),c=Object(s.a)(r,2),l=c[0],d=c[1],j=Object(A.g)(),u=localStorage.getItem("token");Object(a.useEffect)((function(){var e=localStorage.getItem("googleToken");e?function(e){return S.a.get("".concat(C,"verifyTokenGoogle"),{headers:{Authorization:"Bearer "+e}})}(e).then((function(e){console.log(e),e.data&&(console.log(e),i(E(e.data)),e.data&&d(!0))})).catch((function(e){e.response&&(console.error(e.response.data),d(!1))})):u?k(u).then((function(e){e.data&&(console.log(e),i(E(e.data)),"test@test.com"===e.data.email&&j("/admin"),e.data&&d(!0))})).catch((function(e){e.response&&(console.error(e.response.data),d(!1))})):u||e||d(!1)}),[]),Object(a.useEffect)((function(){h()}),[]);var h=function(){be().then((function(e){e.data&&i(je(e.data))}))};return Object(a.useEffect)((function(){Object(me.a)("https://vacation-node-react.herokuapp.com/").on("VacationsUpdate",(function(){h(),pe.b.info("The admin change details from one of the vacations!",{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}))}),[]),"loading"===l?Object(L.jsx)(de,{}):l?l?Object(L.jsxs)("div",{style:{minHeight:"100VH",position:"relative"},children:[Object(L.jsx)(re,{executeVacationScroll:t,executeVacationOnFollowScroll:n}),Object(L.jsx)(A.a,{}),Object(L.jsx)(pe.a,{}),Object(L.jsx)("footer",{children:Object(L.jsx)(xe,{})})]}):void 0:Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{children:"not token - you need to login"}),Object(L.jsx)(b.a,{component:o.b,to:"/signin",children:"signin"})]})},fe=n(682),ve=n(683),Ae=n(684),ye=n(685),we=n(401),Se=n.n(we),Ce=n(191),ke=n.n(Ce);function De(){var e,t,n,i,r=Object(D.b)(),o=Object(y.a)(),l=o.register,j=o.formState.errors,b=o.handleSubmit,h=Object(a.useState)(!1),O=Object(s.a)(h,2),x=O[0],m=O[1],g=Object(D.c)((function(e){return e.userData}));Object(A.g)();return Object(L.jsxs)(fe.a,{sx:{maxWidth:345,margin:"0 auto"},children:[Object(L.jsx)(ve.a,{avatar:Object(L.jsxs)(J.a,{sx:{p:0},children:[g.googleId?Object(L.jsx)(ee.a,{round:!0,size:"50",googleId:g.googleId}):Object(L.jsx)(ee.a,{round:!0,size:"50",name:g.firstName})," "]}),title:Object(L.jsx)(L.Fragment,{children:x?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)("form",{onSubmit:b((function(e){console.log(e),function(e,t){var n=e.firstName,a=e.lastName;return S.a.post("".concat("https://vacation-node-react.herokuapp.com/user","/").concat(t,"/changeName"),{firstName:n,lastName:a})}(e,g._id).then((function(e){console.log(e.data),r(E(e.data))})),m(!1)})),children:[Object(L.jsx)(u.a,Object(c.a)(Object(c.a)({},l("firstName",{required:!0,pattern:/^[A-Za-z]+$/i})),{},{size:"small",id:"standard-basic",label:"First Name",variant:"standard"})),Object(L.jsx)("br",{}),"required"===(null===(e=j.firstName)||void 0===e?void 0:e.type)&&Object(L.jsx)("span",{style:{color:"red"},children:"* First Name is required"}),"pattern"===(null===(t=j.firstName)||void 0===t?void 0:t.type)&&Object(L.jsx)("span",{style:{color:"red"},children:"* First Name is not valid"}),Object(L.jsx)(u.a,Object(c.a)(Object(c.a)({},l("lastName",{required:!0,pattern:/^[A-Za-z]+$/i})),{},{size:"small",id:"standard-basic",label:"Last Name",variant:"standard"})),Object(L.jsx)("br",{}),"required"===(null===(n=j.lastName)||void 0===n?void 0:n.type)&&Object(L.jsx)("span",{style:{color:"red"},children:"* Last Name is required"}),"pattern"===(null===(i=j.lastName)||void 0===i?void 0:i.type)&&Object(L.jsx)("span",{style:{color:"red"},children:"* Last Name is not valid"}),Object(L.jsx)("br",{}),Object(L.jsx)(d.a,{type:"submit",variant:"outlined",children:"Save"}),Object(L.jsx)(d.a,{variant:"outlined",onClick:function(){m(!1)},children:"Cancel"})]}),"\xa0"]}):Object(L.jsxs)(L.Fragment,{children:[g.firstName," ",g.lastName," \xa0 \xa0",Object(L.jsx)(Se.a,{onClick:function(){m((function(e){return!e}))},fontSize:"inherit"})]})})}),Object(L.jsx)(Ae.a,{children:Object(L.jsxs)(p.a,{variant:"body2",color:"text.secondary",children:["id: ",g._id,Object(L.jsx)("br",{}),"email: ",g.email]})}),Object(L.jsx)(ye.a,{disableSpacing:!0,children:Object(L.jsx)(J.a,{"aria-label":"share",children:Object(L.jsx)(ke.a,{})})})]})}var Ne=n.p+"static/media/dreamVacation2.ad957443.jpg",ze=n(691),Fe=n(403),Ie=n.n(Fe),Ee=n(402),qe=n.n(Ee),Be=n(404),Te=n.n(Be),Pe=n(670),Le=n(652),Ve=n(653),Ze=n(654),We=n(655),Ge=n(656),He=n(657),Re=n(658),Ue=n(659),Me=n(660),Qe=n(661),Xe={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function _e(e){var t=e.vacation,n="https://vacation-node-react.herokuapp.com/home",i=Object(a.useState)(!1),r=Object(s.a)(i,2),o=r[0],c=r[1];return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(J.a,{onClick:function(){return c(!0)},"aria-label":"share",size:"small",children:Object(L.jsx)(ke.a,{size:"small"})}),Object(L.jsx)(Pe.a,{open:o,onClose:function(){return c(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(L.jsxs)(O.a,{sx:Xe,children:[Object(L.jsxs)(p.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:["Share ",t.location]}),Object(L.jsxs)(p.a,{id:"modal-modal-description",sx:{mt:2},children:[Object(L.jsx)(Le.a,{url:"".concat(n,"/VacationDetailes/").concat(t._id),children:Object(L.jsx)(Ve.a,{size:"36",round:"true"})}),"\xa0",Object(L.jsx)(Ze.a,{url:"".concat(n,"/VacationDetailes/").concat(t._id),children:Object(L.jsx)(We.a,{size:"36",round:"true"})}),"\xa0",Object(L.jsx)(Ge.a,{url:"".concat(n,"/VacationDetailes/").concat(t._id),children:Object(L.jsx)(He.a,{size:"36",round:"true"})}),"\xa0",Object(L.jsx)(Re.a,{url:"".concat(n,"/VacationDetailes/").concat(t._id),children:Object(L.jsx)(Ue.a,{size:"36",round:"true"})}),"\xa0",Object(L.jsx)(Me.a,{url:"".concat(n,"/VacationDetailes/").concat(t._id),children:Object(L.jsx)(Qe.a,{size:"36",round:"true"})})]})]})})]})}function Je(e){var t=e.vacation,n=e.userData,a=e.onFollowSuccess,i=e.onUnFollowSuccess,r=Object(D.b)(),o=Object(A.g)(),c=function(e){var o,c;t.followersID.includes(n._id)?function(e,t){return S.a.patch("".concat(ue,"vacations/removeFollow/").concat(e),{userID:t})}(e,n._id).then((function(e){console.log(e.data),be().then((function(e){r(je(e.data)),i()}))})).catch((function(e){console.log(e)})):(o=e,c=n._id,S.a.patch("".concat(ue,"vacations/onFollow/").concat(o),{userID:c})).then((function(e){console.log(e.data),be().then((function(e){console.log(e.data),r(je(e.data))})),a()})).catch((function(e){console.log(e)}))};return Object(L.jsxs)(fe.a,{children:[Object(L.jsx)(ve.a,{title:t.location,subheader:t.date}),Object(L.jsx)(ze.a,{component:"img",height:"194",image:t.image,alt:"Paella dish"}),Object(L.jsxs)(Ae.a,{children:[Object(L.jsx)(p.a,{variant:"body2",color:"text.secondary",children:t.description}),t.price.toLocaleString(),"$"]}),Object(L.jsxs)(ye.a,{disableSpacing:!0,children:[t.followersID.includes(n._id)?Object(L.jsxs)(J.a,{onClick:function(){return c(t._id)},"aria-label":"add to favorites",size:"small",children:["UnFollow \xa0 ",Object(L.jsx)(Ie.a,{size:"small"})]}):Object(L.jsxs)(J.a,{onClick:function(){return c(t._id)},"aria-label":"add to favorites",size:"small",children:["Follow \xa0 ",Object(L.jsx)(qe.a,{size:"small"})]}),Object(L.jsx)(_e,{vacation:t}),Object(L.jsxs)(J.a,{size:"small",onClick:function(){o("VacationDetailes/".concat(t._id))},"aria-label":"Read More",style:{marginLeft:"auto",borderRadius:0},children:["Read More ",Object(L.jsx)(Te.a,{size:"small"})]})]})]})}var Ye=n(425),Ke=(n(560),n(405)),$e=n.n(Ke),et=function(e){var t=e.vacationScroll,n=e.vacationOnFollowScroll,i=function(){pe.b.success("Follow Successfully!",{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},r=function(){pe.b.info("UnFollow Successfully!",{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},o=Object(D.c)((function(e){return e.vacations})),c=Object(D.c)((function(e){return e.userData})),l=Object(a.useState)(!1),d=Object(s.a)(l,2),j=d[0],u=d[1],b=Object(a.useState)(0),O=Object(s.a)(b,2);O[0],O[1];return Object(a.useEffect)((function(){if(o.length>0){var e=null===o||void 0===o?void 0:o.find((function(e){return e.followersID.includes(c._id)}));u(!!e)}}),[o]),o.length>0&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("img",{width:"100%",alt:"dreamVacationImg",src:Ne}),Object(L.jsx)("span",{ref:t}),Object(L.jsx)("br",{}),Object(L.jsx)("br",{}),Object(L.jsxs)("div",{style:{width:"90%",margin:"0 auto"},children:[Object(L.jsx)("br",{}),Object(L.jsx)("br",{}),Object(L.jsxs)(Ye.a,{elevation:3,children:[Object(L.jsx)(p.a,{variant:"h3",children:"All Vacations"}),Object(L.jsx)(h.a,{container:!0,spacing:2,children:o.map((function(e){return Object(L.jsx)(h.a,{item:!0,xs:12,md:3,children:Object(L.jsx)(Je,{onUnFollowSuccess:r,onFollowSuccess:i,vacation:e,userData:c})},e._id)}))})]}),Object(L.jsx)("span",{ref:n}),Object(L.jsx)("br",{}),Object(L.jsx)("br",{}),j?Object(L.jsxs)(Ye.a,{elevation:3,children:[Object(L.jsx)(p.a,{variant:"h3",children:"Vacations On Follow "}),Object(L.jsx)(h.a,{container:!0,spacing:2,children:o.map((function(e){return e.followersID.includes(c._id)&&Object(L.jsx)(h.a,{item:!0,xs:12,md:3,children:Object(L.jsx)(Je,{vacation:e,userData:c})},e._id)}))})]}):Object(L.jsxs)(p.a,{variant:"h6",children:["You can to follow on vacation here ",Object(L.jsx)($e.a,{})," "]})]})]})},tt=n(3),nt=n(268),at=Object(f.a)();at.typography.h3=Object(tt.a)({fontSize:"1.4rem","@media (min-width:600px)":{fontSize:"1.5rem"}},at.breakpoints.up("md"),{fontSize:"2.4rem"});var it=function(){var e,t=Object(a.useState)(""),n=Object(s.a)(t,2),i=n[0],r=n[1],o=Object(A.h)(),c=Object(D.c)((function(e){return e.vacations}));Object(a.useEffect)((function(){c.length>1&&r(c.find((function(e){return e._id===o.id})))}),[c]);Object(A.g)();return c.length>0?Object(L.jsx)("div",{children:i?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(v.a,{theme:at,children:[Object(L.jsx)(p.a,{variant:"h2",children:null===i||void 0===i?void 0:i.location}),Object(L.jsx)(p.a,{variant:"h3",children:null===i||void 0===i?void 0:i.date}),Object(L.jsx)(p.a,{variant:"h4",children:Object(L.jsxs)("b",{children:[null===i||void 0===i||null===(e=i.price)||void 0===e?void 0:e.toLocaleString(),"$"]})})]}),Object(L.jsxs)(h.a,{container:!0,spacing:2,children:[window.innerWidth>600&&Object(L.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(L.jsxs)(p.a,{variant:"body1",style:{fontSize:"2rem"},children:[null===i||void 0===i?void 0:i.description," Lorem ipsum dolor sit, amet consectetur explicabo aspernatur dicta nemo unde alias maiores ratione laborum fugit reprehenderit repellat dolor, nisi qui. Delectus deleniti tempora maiores quod dicta! Id laboriosam a beatae? Doloribus nostrum asperiores voluptatem officia dolore nesciunt quod minus natus facere? Aut harum, aliquam vel alias debitis, cupiditate, ipsam quaerat nulla incidunt consequuntur corporis sequi veritatis"]})}),Object(L.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(L.jsxs)(nt.a,{interval:2e3,children:[Object(L.jsx)(nt.a.Item,{children:Object(L.jsx)("img",{className:"d-block w-100",src:"http://picsum.photos/300/200",alt:"First slide"})}),Object(L.jsx)(nt.a.Item,{children:Object(L.jsx)("img",{className:"d-block w-100",src:null===i||void 0===i?void 0:i.image,alt:"Slider"})})]})}),window.innerWidth<600&&Object(L.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(L.jsxs)(p.a,{variant:"body1",style:{fontSize:"2rem"},children:[i.description," Lorem ipsum dolor sit, amet consectetur explicabo aspernatur dicta nemo unde alias maiores ratione laborum fugit reprehenderit repellat dolor, nisi qui. Delectus deleniti tempora maiores quod dicta! Id laboriosam a beatae? Doloribus nostrum asperiores voluptatem officia dolore nesciunt quod minus natus facere? Aut harum, aliquam vel alias debitis, cupiditate, ipsam quaerat nulla incidunt consequuntur corporis sequi veritatis"]})})]})]}):Object(L.jsx)(Z.a,{severity:"error",children:"Vacation deleted"})}):Object(L.jsx)(de,{})},rt=n(5),ot=n(407),ct=n.n(ot),st=function(e){var t=e.handleClickLogout;return Object(L.jsx)(ct.a,{onClick:t})},lt=Object(rt.a)(X.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(c.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),dt=function(e){var t=e.open,n=e.toggleDrawer,a=Object(A.g)();return Object(L.jsx)("div",{children:Object(L.jsx)(lt,{position:"absolute",open:t,children:Object(L.jsxs)(_.a,{sx:{pl:"24px"},children:[Object(L.jsx)(J.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:n,sx:Object(c.a)({marginRight:"36px"},t&&{display:"none"}),children:Object(L.jsx)($.a,{})}),Object(L.jsx)(p.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:"Dashboard"}),Object(L.jsx)(J.a,{color:"inherit",children:Object(L.jsx)(st,{handleClickLogout:function(e){localStorage.getItem("token")?localStorage.removeItem("token"):localStorage.removeItem("googleToken"),a("/signin")}})})]})})})},jt=n(688),ut=n(693),bt=n(664),ht=n(412),Ot=n.n(ht),xt=n(669),mt=n(421),pt=n(662),gt=n(408),ft=n.n(gt),vt=n(410),At=n.n(vt),yt=n(409),wt=n.n(yt),St=function(){var e=Object(A.g)();return Object(L.jsxs)("div",{children:[Object(L.jsxs)(xt.a,{button:!0,children:[Object(L.jsx)(mt.a,{children:Object(L.jsx)(ft.a,{})}),Object(L.jsx)(pt.a,{primary:"Dashboard",onClick:function(){return e("/admin")}})]}),Object(L.jsxs)(xt.a,{button:!0,onClick:function(){return e("vacations")},children:[Object(L.jsx)(mt.a,{children:Object(L.jsx)(wt.a,{})}),Object(L.jsx)(pt.a,{primary:"Vacations"})]}),Object(L.jsxs)(xt.a,{button:!0,onClick:function(){return e("users")},children:[Object(L.jsx)(mt.a,{children:Object(L.jsx)(At.a,{})}),Object(L.jsx)(pt.a,{primary:"Users"})]})]})},Ct=n(692),kt=n(411),Dt=n.n(kt),Nt=function(){var e=Object(A.g)();return Object(L.jsxs)("div",{children:[Object(L.jsx)(Ct.a,{inset:!0,children:"Saved reports"}),Object(L.jsxs)(xt.a,{button:!0,onClick:function(){return e("chart")},children:[Object(L.jsx)(mt.a,{children:Object(L.jsx)(Dt.a,{})}),Object(L.jsx)(pt.a,{primary:"Followers Chart"})]})]})},zt=Object(rt.a)(ut.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return{"& .MuiDrawer-paper":Object(c.a)({position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box"},!n&&Object(tt.a)({overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7)},t.breakpoints.up("sm"),{width:t.spacing(9)}))}})),Ft=function(e){var t=e.open,n=e.toggleDrawer;return Object(L.jsxs)(zt,{variant:"permanent",open:t,children:[Object(L.jsx)(_.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:Object(L.jsx)(J.a,{onClick:n,children:Object(L.jsx)(Ot.a,{})})}),Object(L.jsx)(bt.a,{}),Object(L.jsx)(jt.a,{children:Object(L.jsx)(St,{})}),Object(L.jsx)(bt.a,{}),Object(L.jsx)(jt.a,{children:Object(L.jsx)(Nt,{})})]})},It=(n(561),function(){return Object(L.jsxs)("div",{className:"screen",children:[Object(L.jsx)("div",{className:"phone"}),Object(L.jsx)("div",{className:"message",children:"Please rotate your device!"})]})}),Et=function(){var e=Object(a.useState)([0,0]),t=Object(s.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){function e(){i([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},qt=Object(f.a)();function Bt(){var e=Object(a.useState)(!0),t=Object(s.a)(e,2),n=t[0],i=t[1],r=function(){i(!n)};return Object(L.jsx)(v.a,{theme:qt,children:Object(L.jsxs)(O.a,{sx:{display:"flex"},children:[Object(L.jsx)(j.a,{}),Object(L.jsx)(dt,{open:n,position:"absolute",toggleDrawer:r}),Object(L.jsx)(Ft,{open:n,toggleDrawer:r}),Object(L.jsxs)(O.a,{component:"main",sx:{backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(L.jsx)(_.a,{}),Object(L.jsx)(g.a,{maxWidth:"100%",sx:{mt:4,mb:4},children:Object(L.jsx)(h.a,{container:!0,spacing:3,children:Object(L.jsx)(h.a,{item:!0,xs:12,md:12,lg:12,children:Object(L.jsx)(Ye.a,{sx:{p:2,display:"flex",flexDirection:"column",height:"auto"},children:Object(L.jsx)(A.a,{})})})})})]})]})})}function Tt(){var e=Et(),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!1),o=Object(s.a)(r,2),c=o[0],l=o[1];return Object(a.useEffect)((function(){l(n<i)}),[n]),Object(L.jsx)(L.Fragment,{children:c?Object(L.jsx)(It,{}):Object(L.jsx)(Bt,{})})}var Pt=function(){var e=Object(a.useState)("loading"),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(D.b)(),c=localStorage.getItem("token");return Object(a.useEffect)((function(){k(c).then((function(e){e.data&&(console.log(e),r(E(e.data)),"test@test.com"===e.data.email?i(!0):i(!1))})).catch((function(e){e.response&&(console.error(e.response.data),i(!1))}))}),[]),"loading"===n?Object(L.jsx)(de,{}):n?Object(L.jsx)("div",{children:Object(L.jsx)(Tt,{})}):Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{children:"You're Not Authorized."}),Object(L.jsx)(b.a,{component:o.b,to:"/signin",children:"signin"})]})},Lt="https://vacation-node-react.herokuapp.com/vacations",Vt=be,Zt=n(254),Wt=n(253),Gt=n.n(Wt),Ht=n(251),Rt=n(252),Ut=n.n(Rt),Mt=n(677),Qt=n(678),Xt=(n(368),n(369),n(413)),_t=n(225),Jt=n(671),Yt=n(663),Kt=n(414),$t=n.n(Kt),en=function(e){var t=e.setUrlImage,n=Object(a.useState)(!1),i=Object(s.a)(n,2),r=i[0],o=i[1],l=function(e,t){"clickaway"!==t&&o(!1)};return Object(L.jsxs)(O.a,{sx:{textAlign:"center"},children:[Object(L.jsxs)(d.a,{variant:"contained",onClick:function(){window.cloudinary.createUploadWidget({cloudName:"hubara",uploadPreset:"upload",folder:"vacation-project",cropping:!0,showSkipCropButton:!0},(function(e,n){e&&console.log(e),!e&&n&&"success"===n.event&&(t(n.info.url),console.log(n.info.url),o(!0))})).open()},children:["Upload Image \xa0\xa0",Object(L.jsx)($t.a,{})]}),Object(L.jsx)("br",{}),Object(L.jsx)("br",{}),Object(L.jsx)(Jt.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:r,autoHideDuration:6e3,onClose:l,TransitionComponent:function(e){return Object(L.jsx)(Yt.a,Object(c.a)(Object(c.a)({},e),{},{direction:"up"}))},children:Object(L.jsx)(Z.a,{onClose:l,severity:"success",variant:"filled",sx:{width:"100%"},children:"\xa0 \u05d4\u05ea\u05de\u05d5\u05e0\u05d4 \u05d4\u05d5\u05e2\u05dc\u05ea\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4! \xa0"})})]})},tn=function(e){var t,n,i,r,o,l=e.open,j=e.handleClose,b=e.getAllVacationsFromServer,x=Object(a.useState)(null),m=Object(s.a)(x,2),g=m[0],f=m[1],v=Object(a.useState)(null),A=Object(s.a)(v,2),w=A[0],C=A[1],k=Object(y.a)(),D=k.register,N=k.handleSubmit,z=k.formState.errors,F=Object(a.useState)([{startDate:new Date,endDate:Object(_t.default)(new Date,7),key:"selection"}]),I=Object(s.a)(F,2),E=I[0],q=I[1];return Object(L.jsx)("div",{children:Object(L.jsx)(Mt.a,{open:l,onClose:j,children:Object(L.jsx)(O.a,{component:"form",onSubmit:N((function(e){if(w){console.log(E);var t=E[0].startDate.toLocaleDateString("en-US"),n=E[0].endDate.toLocaleDateString("en-US"),a="".concat(t," - ").concat(n);(function(e){return S.a.post(Lt,e)})(Object(c.a)(Object(c.a)({},e),{},{date:a})).then((function(e){console.log(e.data),j(),b()})).catch((function(e){console.log(e.response.data)}))}else f(!0)})),children:Object(L.jsxs)(Qt.a,{children:[Object(L.jsx)(p.a,{variant:"h6",gutterBottom:!0,children:"Vacation Details"}),Object(L.jsxs)(h.a,{container:!0,spacing:3,children:[Object(L.jsxs)(h.a,{item:!0,xs:12,children:[Object(L.jsx)(u.a,Object(c.a)({label:"Location *",fullWidth:!0,variant:"outlined"},D("location",{required:!0}))),"required"===(null===(t=z.location)||void 0===t?void 0:t.type)&&Object(L.jsx)(Z.a,{severity:"error",children:"* Location is required"})]}),Object(L.jsx)(h.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(L.jsx)(Xt.DateRange,{editableDateInputs:!0,onChange:function(e){return q([e.selection])},moveRangeOnFirstSelection:!1,ranges:E})}),Object(L.jsxs)(h.a,{item:!0,xs:12,children:[Object(L.jsx)(u.a,Object(c.a)({label:"Description *",fullWidth:!0,variant:"outlined",multiline:!0,rows:3},D("description",{required:!0}))),"required"===(null===(n=z.description)||void 0===n?void 0:n.type)&&Object(L.jsx)(Z.a,{severity:"error",children:"* Description is required"})]}),Object(L.jsxs)(h.a,{item:!0,xs:12,sm:6,children:[w?Object(L.jsx)(u.a,Object(c.a)({label:"image *",value:w,fullWidth:!0,InputLabelProps:{shrink:!0},variant:"outlined"},D("image",{required:!0}))):Object(L.jsx)(en,{setUrlImage:C}),"required"===(null===(i=z.image)||void 0===i?void 0:i.type)&&Object(L.jsx)(Z.a,{severity:"error",children:"* Image is required"}),g&&Object(L.jsx)(Z.a,{severity:"error",children:"* Image is required"})]}),Object(L.jsxs)(h.a,{item:!0,xs:12,sm:6,children:[Object(L.jsx)(u.a,Object(c.a)({label:"Price *",fullWidth:!0,variant:"outlined"},D("price",{required:!0,pattern:/[0-9]/}))),"required"===(null===(r=z.price)||void 0===r?void 0:r.type)&&Object(L.jsx)(Z.a,{severity:"error",children:"* Price is required"}),"pattern"===(null===(o=z.price)||void 0===o?void 0:o.type)&&Object(L.jsx)(Z.a,{severity:"error",children:"* Only Numbers"})]}),Object(L.jsx)(h.a,{item:!0,xs:12,children:Object(L.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",children:"Create Vacation"})})]})]})})})})},nn=function(e){var t=e.vacations,n=e.handleEditVacation,a=e.handleDeleteClick,i=e.openCreateModal,r=e.open,o=e.handleClose,s=e.getAllVacationsFromServer,l=[{field:"id",headerName:"ID",flex:1},{field:"location",headerName:"Location",flex:1,editable:!0},{field:"description",headerName:"Description",flex:1,editable:!0},{field:"image",headerName:"Image",flex:1,editable:!0},{field:"date",headerName:"Date",editable:!0,flex:1},{field:"price",headerName:"Price",editable:!0,flex:.5,type:"number",align:"center",headerAlign:"center"},{field:"followers",headerName:"Followers",editable:!1,flex:.5,type:"number",headerAlign:"center",align:"center",valueGetter:function(e){return e.getValue(e.id,"followersID").length}},{field:"del",headerName:Object(L.jsxs)(Ht.a,{onClick:i,style:{width:"100%"},variant:"outline-success",children:["Create \xa0",Object(L.jsx)(Ut.a,{color:"green"})]}),flex:1,sortable:!1,disabled:!0,align:"right",headerAlign:"center",disableColumnMenu:!0,renderCell:function(e){return Object(L.jsx)(d.a,{color:"inherit",onClick:function(){return a(e)},children:Object(L.jsx)(Gt.a,{})})}}],j=t.map((function(e){return Object(c.a)({id:e._id},e)}));return j.length>0&&Object(L.jsxs)("div",{style:{width:"100%"},children:[Object(L.jsx)(Zt.a,{rows:j,columns:l,pageSize:7,rowsPerPageOptions:[7],disableSelectionOnClick:!0,onCellEditCommit:n,autoHeight:!0}),Object(L.jsx)(tn,{open:r,handleClose:o,getAllVacationsFromServer:s})]})},an=n(16),rn=n(52),on=n(415);rn.e.register(rn.d,rn.i,rn.b,rn.n,rn.o,rn.g);var cn=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],i=t[1];Object(a.useEffect)((function(){r()}),[]);var r=function(){Vt().then((function(e){return i(e.data)}))};if(n.length>0){var o=n.map((function(e){return{label:e.location,data:[e.followersID.length],backgroundColor:"#"+Math.floor(16777215*Math.random()).toString(16)}})),c={labels:["followers"],datasets:Object(an.a)(o)};return Object(L.jsx)(on.a,{options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Followers Chart By Vacation"}},scales:{y:{max:50}}},data:c})}return Object(L.jsx)(de,{})},sn=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(D.b)(),o=Object(D.c)((function(e){return e.vacations}));Object(a.useEffect)((function(){c()}),[]);var c=function(){console.log("vacation"),Vt().then((function(e){return e.data&&r(je(e.data))}))};return o.length>0&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(nn,{vacations:o,handleEditVacation:function(e){console.log(e),function(e){var t=e.id,n=e.field,a=e.value;return console.log(t,n,a),console.log({id:t,field:n,value:a}),S.a.patch("".concat(Lt,"/").concat(t),Object(tt.a)({},n,a))}(e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e.response.data)}))},handleDeleteClick:function(e){var t;console.log(e.id),(t=e.id,S.a.delete("".concat(Lt,"/").concat(t))).then((function(e){console.log(e.data),c()})).catch((function(e){return console.log(e.response.data)}))},openCreateModal:function(){i(!0)},open:n,handleClose:function(){return i(!1)},getAllVacationsFromServer:c}),Object(L.jsx)("hr",{})]})},ln="https://vacation-node-react.herokuapp.com/user",dn=function(e){var t,n,a,i,r=e.open,o=e.handleClose,s=e.getAllUsersFromServer,l=Object(y.a)(),j=l.register,b=l.handleSubmit,x=l.formState.errors;return Object(L.jsx)("div",{children:Object(L.jsx)(Mt.a,{open:r,onClose:o,children:Object(L.jsx)(O.a,{component:"form",onSubmit:b((function(e){(function(e){return S.a.post(ln,e)})(e).then((function(e){console.log(e.data),o(),s()})).catch((function(e){console.log(e.response.data)}))})),children:Object(L.jsxs)(Qt.a,{children:[Object(L.jsx)(p.a,{variant:"h6",gutterBottom:!0,children:"Vacation Details"}),Object(L.jsxs)(h.a,{container:!0,spacing:3,children:[Object(L.jsxs)(h.a,{item:!0,xs:12,sm:6,children:[Object(L.jsx)(u.a,Object(c.a)({label:"First Name *",fullWidth:!0,variant:"outlined"},j("firstName",{required:!0}))),"required"===(null===(t=x.firstName)||void 0===t?void 0:t.type)&&Object(L.jsx)(Z.a,{severity:"error",children:"* First Name is required"})]}),Object(L.jsxs)(h.a,{item:!0,xs:12,sm:6,children:[Object(L.jsx)(u.a,Object(c.a)({label:"Last Name *",fullWidth:!0,variant:"outlined"},j("lastName",{required:!0}))),"required"===(null===(n=x.lastName)||void 0===n?void 0:n.type)&&Object(L.jsx)(Z.a,{severity:"error",children:"* Last Name is required"})]}),Object(L.jsxs)(h.a,{item:!0,xs:12,sm:6,children:[Object(L.jsx)(u.a,Object(c.a)({label:"Email *",fullWidth:!0,variant:"outlined"},j("email",{required:!0,pattern:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/}))),"required"===(null===(a=x.email)||void 0===a?void 0:a.type)&&Object(L.jsx)(Z.a,{severity:"error",children:"* Email is required"}),"pattern"===(null===(i=x.email)||void 0===i?void 0:i.type)&&Object(L.jsx)(Z.a,{severity:"error",children:"* Email is invalid"})]}),Object(L.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(L.jsx)(u.a,Object(c.a)({label:"Password *",fullWidth:!0,type:"password",variant:"outlined"},j("password",{required:!0})))}),Object(L.jsx)(h.a,{item:!0,xs:12,children:Object(L.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",children:"Create Vacation"})})]})]})})})})},jn=function(e){var t=e.users,n=e.handleEditUser,a=e.handleDeleteClick,i=e.openCreateModal,r=e.open,o=e.handleClose,s=e.getAllUsersFromServer,l=[{field:"id",headerName:"ID",flex:1},{field:"firstName",headerName:"First Name",flex:1,editable:!0},{field:"lastName",headerName:"Last Name",flex:1,editable:!0},{field:"email",headerName:"Email",flex:1,editable:!0},{field:"del",headerName:Object(L.jsxs)(Ht.a,{onClick:i,style:{width:"100%"},variant:"outline-success",children:["Create \xa0",Object(L.jsx)(Ut.a,{color:"green"})]}),flex:1,sortable:!1,disabled:!0,align:"right",headerAlign:"center",disableColumnMenu:!0,renderCell:function(e){return Object(L.jsx)(d.a,{color:"inherit",onClick:function(){return a(e)},children:Object(L.jsx)(Gt.a,{})})}}],j=t.map((function(e){return Object(c.a)({id:e._id},e)}));return j.length>0&&Object(L.jsxs)("div",{style:{width:"100%"},children:[Object(L.jsx)(Zt.a,{rows:j,columns:l,pageSize:7,rowsPerPageOptions:[7],disableSelectionOnClick:!0,onCellEditCommit:n,autoHeight:!0}),Object(L.jsx)(dn,{open:r,handleClose:o,getAllUsersFromServer:s})]})},un=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(D.b)(),o=Object(D.c)((function(e){return e.users}));Object(a.useEffect)((function(){c()}),[]);var c=function(){console.log("users"),S.a.get(ln).then((function(e){return e.data&&r((t=e.data,{type:z,payload:t}));var t}))};return o.length>0&&Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(jn,{users:o,handleEditUser:function(e){console.log(e),function(e){var t=e.id,n=e.field,a=e.value;return S.a.patch("".concat(ln,"/").concat(t),Object(tt.a)({},n,a))}(e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e.response.data)}))},handleDeleteClick:function(e){var t;console.log(e.id),(t=e.id,S.a.delete("".concat(ln,"/").concat(t))).then((function(e){console.log(e.data),c()})).catch((function(e){return console.log(e.response.data)}))},openCreateModal:function(){i(!0)},open:n,handleClose:function(){return i(!1)},getAllUsersFromServer:c})})},bn=function(){var e=Object(a.useRef)(),t=Object(a.useRef)();return Object(L.jsx)("div",{children:Object(L.jsxs)(A.d,{children:[Object(L.jsx)(A.b,{index:!0,element:Object(L.jsx)(G,{})}),Object(L.jsx)(A.b,{path:"/signin",element:Object(L.jsx)(G,{})}),Object(L.jsx)(A.b,{path:"/signup",element:Object(L.jsx)(R,{})}),Object(L.jsxs)(A.b,{path:"/admin",element:Object(L.jsx)(Pt,{}),children:[Object(L.jsx)(A.b,{index:!0,element:Object(L.jsx)(sn,{})}),Object(L.jsx)(A.b,{path:"vacations",element:Object(L.jsx)(sn,{})}),Object(L.jsx)(A.b,{path:"users",element:Object(L.jsx)(un,{})}),Object(L.jsx)(A.b,{path:"chart",element:Object(L.jsx)(cn,{})})]}),Object(L.jsxs)(A.b,{path:"/home",element:Object(L.jsx)(ge,{executeVacationOnFollowScroll:function(){return t.current.scrollIntoView({behavior:"smooth"})},executeVacationScroll:function(){return e.current.scrollIntoView({behavior:"smooth"})}}),children:[Object(L.jsx)(A.b,{path:"VacationDetailes/:id",element:Object(L.jsx)(it,{})}),Object(L.jsx)(A.b,{path:"profile",element:Object(L.jsx)(De,{})}),Object(L.jsx)(A.b,{index:!0,element:Object(L.jsx)(et,{vacationOnFollowScroll:t,vacationScroll:e})})]})]})})};function hn(){var e=Object(A.f)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var On=function(){return Object(L.jsx)("div",{className:"App",children:Object(L.jsxs)(o.a,{children:[Object(L.jsx)(hn,{}),Object(L.jsx)(bn,{})]})})},xn=n(255),mn=Object(xn.a)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return n===F?Object(c.a)(Object(c.a)({},e),{},{token:a}):e},userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return n===N?a:e},vacations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return n===I?a:e},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return n===z?a:e}}),pn=mn,gn=Object(xn.b)(pn,{},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());n(576);r.a.render(Object(L.jsx)(D.a,{store:gn,children:Object(L.jsx)(On,{})}),document.getElementById("root"))}},[[577,1,2]]]);
//# sourceMappingURL=main.270157df.chunk.js.map